%	Autor:		Giuliano Montorio & Hannes Dittmann
%	Datum:		28.08.2018
%	Short:		Entwicklungsprojekt
% DOCUMENTCLASS -----------------------------------------------------------------------------------------
\documentclass[12pt,a4paper,oneside,numbers=noenddot,captions=tableheading,toc=bibliography,openany,tikz,margin=5mm]{scrbook}
\setcounter{secnumdepth}{5}
\renewcommand{\arraystretch}{1.4} 

\usepackage[scaled=.90]{helvet}
\usepackage{geometry}
\geometry{a4paper,left=25mm,right=25mm, top=25mm, bottom=25mm, includeheadfoot}


% SPRACHE------------------------------------------------------------------------------------------------
\usepackage[utf8]{inputenc}
\usepackage[autostyle,babel,german=guillemets,style=german]{csquotes}
\usepackage[USenglish,ngerman]{babel} 
\selectlanguage{ngerman}


% TABELLEN-----------------------------------------------------------------------------------------------
\usepackage{multirow} % Tabellen-Zellen �ber mehrere Zeilen1
\usepackage{multicol} % mehre Spalten auf eine Seite
\usepackage{tabularx} % F�r Tabellen mit vorgegeben Gr��en
\usepackage{array}
\usepackage{float}
\usepackage{booktabs}
\usepackage{longtable} % Tabellen �ber mehrere Seiten
\usepackage{rotating}
\usepackage[table,xcdraw]{xcolor}
\usepackage{subcaption}
\usepackage{tikz}
\usetikzlibrary{circuits.ee.IEC}
\usepackage{pgfplots}
\pgfplotsset{
	dirac/.style={
		mark=triangle*,
		mark options={scale=2},
		ycomb,
		scatter,
		visualization depends on={y/abs(y)-1 \as \sign},
		scatter/@pre marker code/.code={\scope[rotate=90*\sign,yshift=-2pt]}
	}
}
\usetikzlibrary{arrows.meta,positioning,calc}
\usepackage{pdflscape}

% BILDER-------------------------------------------------------------------------------------------------
\usepackage{graphicx}

\usepackage{color}
\usepackage{svg}



% ALLGEMEINES--------------------------------------------------------------------------------------------
\usepackage{amsmath,amssymb} % Mathesachen
\usepackage[T1]{fontenc} % Ligaturen, richtige Umlaute im PDF
\usepackage[hyphens,obeyspaces,spaces]{url}		% bricht lange URLs ?sch�n? um
\usepackage[decimalsymbol=comma]{siunitx}
\usepackage[onehalfspacing]{setspace}
\setlength{\parindent}{0cm}	% Disable automatic parindent
\usepackage{placeins}
\sloppy
\usepackage{mathrsfs}
\usepackage{underscore}
\usepackage{pdfpages}
\usepackage{enumitem}
\graphicspath{{_img/}}
% PDF-----------------------------------------------------------------------------------------------------
\usepackage{pdfpages}
\usepackage[ngerman,%
pdfauthor={Giuliano Montorio und Hannes Dittmann},%
pdftitle={Bachelorarbeit Dittmann Montorio},%
colorlinks=true,linkcolor=black,citecolor=black,filecolor=black,urlcolor=black%
]{hyperref}

% ABKÜRZUNGEN --------------------------------------------------------------------------------------------
\usepackage[nohyperlinks]{acronym}


% BIBLATEX -----------------------------------------------------------------------------------------------
\usepackage[backend=bibtex,%
style=IEEEtran,%
bibstyle=numeric,%
citestyle=numeric,%
sorting=none,%
]{biblatex}
\bibliography{_bib/biblio}

% QUELLCODE -------------------------------------------------------------------
\usepackage{listings}
\definecolor{mygreen}{RGB}{28,172,0} 		% color values Red, Green, Blue
\definecolor{mylilas}{RGB}{170,55,241}
\lstset{language=Matlab,%
	basicstyle=\footnotesize\ttfamily,
	breaklines=true,%
	morekeywords={matlab2tikz},
	keywordstyle=\color{blue},%
	morekeywords=[2]{1}, keywordstyle=[2]{\color{black}},
	identifierstyle=\color{black},%
	stringstyle=\color{mylilas},
	commentstyle=\color{mygreen},%
	showstringspaces=false,%without this there will be a symbol in the places where there is a space
	numbers=left,%
	numberstyle={\tiny \color{black}},% size of the numbers
	numbersep=9pt, % this defines how far the numbers are from the text
	emph=[1]{for,end,break},emphstyle=[1]\color{red}, %some words to emphasise
	%emph=[2]{word1,word2}, emphstyle=[2]{style},    
}		
% DOCUMENT ------------------------------------------------------------------------------------------------
\begin{document}
	\begin{longtable}{|p{1,5cm}|p{3,5cm}|p{7cm}|p{2,2cm}|} 
	\hline
	\textbf{Nr./ID} & \textbf{Titel} & \textbf{Verifikation der Anforderung} & \textbf{Hilfsmittel}\\
	\endhead


	\hline

ANF\_$01$ & Sprachaufnahme per manueller Betätigung & Zur Durchführung sind folgende Arbeitsschritte durchzuführen:
\begin{itemize}
	
	\item[1.]	ALF einschalten (Rechner hochfahren und Wahlschlüsselschalter auf „Hand“-Modus stellen)
	\item[2.]	Launch-File starten (./launch.sh) und bis zur Initialisierung warten
	\item[3.]	Abonnieren der veröffentlichten \textit{ROS-Topic} \textit{/audio_stream}
	\item[4.]	\textit{Start} Knopf der Fernbedienung betätigen
	\item[5.]	In dem ROS log wird \textit{Start streaming audio...} geschrieben
	\item[6.]	Nach der Aufnahme, wird in den ROS log \textit{Finish streaming audio...} geschrieben
	\item[7.]	Abonnement der \textit{ROS-Topic} erhält eine neue Nachricht
	
	
\end{itemize}

\underline{Ergebnis:}\newline
\newline

\textbf{}	%hier kommt bestanden oder so rein
& \textit{ROS}\newline
\textit{Kinect-Mikrofon}\newline
\textit{rostopic echo topicname}\newline
\\
\hline

ANF\_$02$ & Erzeugen und bereitstellen einer Tonspur & Zur Durchführung sind folgende Arbeitsschritte durchzuführen:
\begin{itemize}
	
	\item[1.]	ALF einschalten (Rechner hochfahren und Wahlschlüsselschalter auf „Hand“-Modus stellen)
	\item[2.]	Launch-File starten (./launch.sh) und bis zur Initialisierung warten
	\item[3.]	Abonnieren der veröffentlichten \textit{ROS-Topic} \textit{/audioStream/pub/stream/topic}
	\item[4.]	\textit{Start} Knopf der Fernbedienung betätigen
	\item[5.]	Über die vorgegebene Zeitspanne von $t=5$ s eine Wortgruppe in das Mikrofon sprechen
	\item[6.]	Abonnement der \textit{ROS-Topic} erhält eine neue Nachricht, diese wird zu einer \textit{WAV}-Datei \textit{test.wav} konvertiert und liegt im Ordner des Knotens
	\item[7.]	Abspielen der Audio Datei mit entsprechender Software
\end{itemize}

\underline{Ergebnis:}\newline
\newline

\textbf{}	%hier kommt bestanden oder so rein
& \textit{ROS}\newline
\textit{Kinect-Mikrofon}\newline
\textit{rostopic echo topicname}\newline

\\
\hline

ANF\_03 & Erkennung und Klassifizierung von bedienungsorientierter Sprache des Benutzers & Zur Durchführung sind folgende Arbeitsschritte durchzuführen:
\begin{itemize}
	
	\item[1.]	ALF einschalten (Rechner hochfahren und Wahlschlüsselschalter auf „Hand“-Modus stellen)
	\item[2.]	Launch-File starten (./launch.sh) und bis zur Initialisierung warten
	\item[3.]	Abonnieren der veröffentlichten \textit{ROS-Topic} \textit{transcript/task}
	\item[4.]	\textit{Start} Knopf der Fernbedienung betätigen und über die vorgegebene Zeitspanne eine bedienungsorientierte Wortgruppe in das Mikrofon sprechen. (Hinweis: Bitte sprechen sie ca. 1 m von dem Aufnahmgerät entfernt in Richtung des Mikrofons)
	\item[5.]	Vergleich der veröffentlichten Klassifikation mit der zugehörigen Kategorie der Wortgruppe aus dem Datensatz \textit{random-distributed-dataset.json}
	
\end{itemize}

\underline{Ergebnis:}\newline
\newline

\textbf{}	%hier kommt bestanden oder so rein
& \textit{ROS}\newline
\textit{Kinect-Mikrofon}\newline
\textit{Datensatz}\newline
\\
\hline

ANF\_04 & 	Erkennen von benutzerdefinierten Schlagwörtern & Zur Durchführung sind folgende Arbeitsschritte durchzuführen:
\begin{itemize}
	
	\item[1.]	ALF einschalten (Rechner hochfahren und Wahlschlüsselschalter auf „Hand“-Modus stellen)
	\item[2.]	Launch-File starten (./launch.sh) und bis zur Initialisierung warten
	\item[3.]	Abonnieren der veröffentlichten \textit{ROS-Topic} \textit{transcript/buzz}
	\item[4.] \textit{Start} Knopf der Fernbedienung betätigen und über die vorgegebene Zeitspanne den Satz \glqq drive to location\grqq in das Mikrofon sprechen
	\item[5.]	\textit{Start} Knopf der Fernbedienung betätigen und über die vorgegebene Zeitspanne ein Schlagwort der Liste \textit{buzzword.json} in das Mikrofon sprechen
	\item[6.]	Vergleich des veröffentlichten Schlagworts mit dem eingesprochenen
	
\end{itemize}

\underline{Ergebnis:}\newline
\newline

\textbf{}	%hier kommt bestanden oder so rein
& \textit{ROS}\newline
\textit{Kinect-Mikrofon}\newline
\\
	\hline
ANF\_05 & Erhöhung der Stufe für autonomes Fahren & Während der Ausführung autonomer Fahraufgaben müssen die Kriterien der Tabelle aus Abbildung 3 des Lastenhefts für das Level 5 erfüllt werden. Zur Durchführung sind folgende Arbeitsschritte durchzuführen:
\begin{itemize}
	
	\item[1.]	ALF einschalten (Rechner hochfahren und Wahlschlüsselschalter auf „Hand“-Modus stellen)
	\item[2.]	Zustandsautomat starten (python finitestatemachine.py) und bis zur Initialisierung warten
	\item[3.]	Launch-File starten (./launch.sh) und bis zur Initialisierung warten
	\item[4.]	Autonomen Fahrmodus nach der manuellen Betätigung der Spracheingabe mit dem Satz \glqq Drive to location\grqq\text{ } starten
	\item[5.]	Anweisungen des ALFs befolgen
	\item[6.]	Ausführen \textit{CANStartUp.sh}
	\item[7.]	Zielpose manuell veröffentlichen
	\item[8.]	Anfahren der Zielpose
	
\end{itemize}
\underline{Ergebnis:}\newline

\textbf{} %hier kommt bestanden oder so rein
& 	Checkliste
\\
	\hline

ANF\_06 & Erkennen und Unterscheiden von Personen in Reichweite der vorgesehenen Sensorik & Zur Durchführung sind folgende Arbeitsschritte durchzuführen:
\begin{itemize}
	
	\item[1.]	ALF einschalten (Rechner hochfahren und Wahlschlüsselschalter auf „Hand“-Modus stellen).
	\item[2.]	Ausführen (python finitestatemachine.py und python people2pose.py)
	\item[3.]	Registrierter Benutzer 1 stellt sich in das Sichtfeld einer Kamera und wendet dieser zu (Hinweis: Status der Erkennung wird über die Lautsprecher ausgegeben)
	\item[4.]	Registrierter Benutzer 1 verlässt das Sichtfeld
	\item[5.]	Registrierter Benutzer 2 stellt sich in das Sichtfeld 
	
	
\end{itemize}

\underline{Ergebnis:}\newline
\newline

\textbf{}	%hier kommt bestanden oder so rein
& 
\\
\hline

ANF\_07 & Wiedererkennung von Personen in Reichweite der vorgesehenen Sensorik nach einer definierten Zeit & Zur Durchführung sind folgende Arbeitsschritte durchzuführen:
\begin{itemize}
	\item[1.]	ALF einschalten (Rechner hochfahren und Wahlschlüsselschalter auf „Hand“-Modus stellen).
\item[2.]	Ausführen (python finitestatemachine.py und python people2pose.py)
\item[3.]   Registrierter Benutzer stellt sich in das Sichtfeld einer Kamera und wendet sich dieser zu (Hinweis: Status der Erkennung wird über die Lautsprecher ausgegeben)
\item[4.]	Registrierter Benutzer verlässt das Sichtfeld
\item[5.]   1 Monat warten
\item[6.]	Registrierter Benutzer stellt sich in das Sichtfeld 
	
\end{itemize}

\underline{Ergebnis:}\newline
\newline

\textbf{}%bestanden?
& \newline
Bandmaß\newline
\textit{Kinect-Kameras}
\\
	\hline
	ANF\_08 & Wiedererkennung von Personen in Reichweite der vorgesehenen Sensorik innerhalb einer vorgegebenen Zeit & Zur Durchführung sind folgende Arbeitsschritte durchzuführen:
	\begin{itemize}
		
		
		\item[1.]	ALF einschalten (Rechner hochfahren und Wahlschlüsselschalter auf „Hand“-Modus stellen).
	\item[2.]	Ausführen (python finitestatemachine.py und python people2pose.py)
	\item[3.]	Registrierter Benutzer stellt sich in das Sichtfeld einer Kamera undwendet sich dieser nicht zu (Hinweis: Status der Erkennung wird über die Lautsprecher ausgegeben)
	\item[4.]	Registrierter Benutzer wendet sich zur Kamera
	\item[5.]   Zeiterfassung ab dem Zeitpunkt der Zuwendung bis zur Textausgabe \glqq ID x erkannt\grqq

		
		
		
	\end{itemize}
	
	\underline{Ergebnis:}\newline
   \newline
	
	\textbf{}%hier kommt bestanden oder so rein
	
	& \\
	\hline
	ANF\_09 & Registrierung von Personen in Reichweite der vorgesehenen Sensorik innerhalb einer vorgegebenen Zeit& Zur Durchführung sind folgende Arbeitsschritte durchzuführen:
	\begin{itemize}
		
		
		\item[1.]	ALF einschalten (Rechner hochfahren und Wahlschlüsselschalter auf „Hand“-Modus stellen).
	\item[2.]	Ausführen (python finitestatemachine.py und python people2pose.py)
	\item[3.]	Unregistrierter Benutzer stellt sich in das Sichtfeld einer Kamera und wendet sich dieser nicht zu 
	\item[4.]	Unregistrierter Benutzer wendet sich zur Kamera (Hinweis: Status der Erkennung wird über die Lautsprecher ausgegeben)
	\item[5.]   Zeiterfassung ab dem Zeitpunkt der Zuwendung bis zur Textausgabe \glqq Neue Person mit der ID x erkannt\grqq

		
	\end{itemize}
	
	\underline{Ergebnis:}\newline
	\newline
	
	\textbf{}%hier kommt bestanden oder so rein
	
	& \\

	\hline
	ANF\_10 & Kartographierung der Umgebung mit Bewegungsvorgabe durch den Benutzer & Zur Durchführung sind folgende Arbeitsschritte durchzuführen:
		\begin{itemize}
			
			
			\item[1.]	ALF einschalten (Rechner hochfahren und Wahlschlüsselschalter auf „Hand“-Modus stellen)
			\item[2.]	Zustandsautomat durch \textit{python2 finitestatemachine.py} ausführen
			\item[3.]	Ausführen \textit{CANStartUp.sh}
			\item[4.]	Resetknopf betätigen
			\item[5.]	Manuell oder durch Sprachbefehl in den Modus \textit{SLAM/Manuell} wechseln
			\item[6.]	Eingabe von Fahrbefehlen mithilfe der Fernbedienung

			
		\end{itemize}
	
	\underline{Ergebnis:}\newline
	\newline
	
	\textbf{}\textbf{}	%hier kommt bestanden oder so rein
	& 
	\textit{Joystick}\newline
	\textit{Kinect-Kameras}
	\\


	\hline

	ANF\_11& Kartographieren der Umgebung ohne Bewegungsvorgabe durch den Benutzer & Zur Durchführung sind folgende Arbeitsschritte durchzuführen:
	\begin{itemize}
			\item[1.]	ALF einschalten (Rechner hochfahren und Wahlschlüsselschalter auf „Hand“-Modus stellen)
		\item[2.]	Zustandsautomat durch \textit{python2 finitestatemachine.py} ausführen
		\item[3.]	Ausführen \textit{CANStartUp.sh}
		\item[4.]	Resetknopf betätigen
		\item[5.]	Manuell oder durch Sprachbefehl in den Modus \textit{SLAM/Autonom} wechseln
		\item[6.]	Eingabe von Fahrbefehlen mithilfe der Fernbedienung
	\end{itemize}
	
	\underline{Ergebnis:}\newline
	\newline
	\textbf{}%bestanden?
	& \textit{ROS}\newline
	Bandmaß\newline
	\textit{Kinect-Kameras}
	\\
	\hline
	ANF\_12&Posenschätzung in vorhandener statischer Karte & Zur Durchführung sind folgende Arbeitsschritte durchzuführen:
	\begin{itemize}
		\item[1.]	ALF einschalten (Rechner hochfahren und Wahlschlüsselschalter auf „Hand“-Modus stellen)
		\item[2.]	Zustandsautomat durch \textit{python2 finitestatemachine.py} ausführen
		\item[3.]	Ausführen \textit{CANStartUp.sh}
		\item[4.]	Resetknopf betätigen
		\item[5.]	Manuell oder durch Sprachbefehl in den Modus \textit{\textit{Lokalisierung}} wechseln
		\item[6.]	Aktuelle Posenschätzung aus dem \textit{ROS}-Netzwerk auslesen und abspeichern.
		\item[7.]	Fahrzeug um definierte und bekannte Maße verschieben.
		\item[8.]	Aktuelle Posenschätzung aus dem \textit{ROS}-Netzwerk auslesen und abspeichern. Differenz der zweiten und ersten Schätzung ergibt die Verschiebung aus Punkt 9. Position in der Karte mithilfe von Referenzobjekten aus der vorhandenen statischen Karte und der realen Umgebung auf Plausibilität prüfen.
	\end{itemize}
	
	\underline{Ergebnis:}\newline
	\newline
	\textbf{}%bestanden?
	& \textit{ROS}\newline
	Bandmaß\newline
	\textit{Kinect-Kameras}\newline
	\textit{LiDar}
	\\
	\hline
	ANF\_13& Anfahren einer vom Benutzer vorgegebenen Zielpose & Zur Durchführung sind folgende Arbeitsschritte durchzuführen:
	\begin{itemize}
	\item[1.]	ALF einschalten (Rechner hochfahren und Wahlschlüsselschalter auf „Hand“-Modus stellen)
	\item[2.]	Zustandsautomat durch \textit{python2 finitestatemachine.py} ausführen.
	\item[3.]	Ausführen \textit{CANStartUp.sh}
	\item[4.]	Resetknopf betätigen.
	\item[5.]	Manuell oder durch Sprachbefehl in den Modus \textit{Drive/Autonom/to target} wechseln
	\item[6.]	Eingabe eines \textit{Simple Goal} in \textit{Rviz} oder durch einen Sprachbefehl
	\item[7.]	Durchführen der Fahraufgabe
	\item[8.]	\textit{Simple Goal} und Posenschätzung mithilfe der Veröffentlichungen aus dem \textit{ROS}-Netzwerk vergleichen.
\end{itemize}

	
	\underline{Ergebnis:}\newline
	\newline
	\textbf{}%bestanden?
	& \textit{ROS}\newline
\textit{Rviz}\newline
	\\
	\hline
	ANF\_14& Autonomes Fahren durch enge Passagen & Zur Durchführung sind folgende Arbeitsschritte durchzuführen:
	\begin{itemize}
		\item[1.]	ALF einschalten (Rechner hochfahren und Wahlschlüsselschalter auf „Hand“-Modus stellen)
		\item[2.]	Zustandsautomat durch \textit{python2 finitestatemachine.py} ausführen.
		\item[3.]	Ausführen \textit{CANStartUp.sh}
		\item[4.]	Resetknopf betätigen.
		\item[5.]	Manuell oder durch Sprachbefehl in den Modus \textit{Drive/Autonom/to target} wechseln
		\item[6.]	\textit{Simple Goal} durch \textit{Rviz} im \textit{ROS}-Netzwerk veröffentlichen und sicherstellen das die berechnete Trajektorie durch eine enge Passage im Sinne der Anforderung führt
		\item[7.]	Vollautomatisiertes Durchführen der Fahraufgabe

	\end{itemize}
	
	\underline{Ergebnis:}\newline
	\newline
	\textbf{}%bestanden?
	& \textit{ROS}\newline
	\\
	\hline
		ANF\_15& Risikominimaler Zustand & Zur Durchführung sind folgende Arbeitsschritte durchzuführen:
	\begin{itemize}
		\item[1.]	ALF einschalten (Rechner hochfahren und Wahlschlüsselschalter auf „Hand“-Modus stellen)
		\item[2.]	Zustandsautomat durch \textit{python2 finitestatemachine.py} ausführen.
		\item[3.]	Ausführen \textit{CANStartUp.sh}
		\item[4.]	Resetknopf betätigen.
		\item[5.]	Manuell oder durch Sprachbefehl in den Modus \textit{Stop} wechseln
		\item[6.]	Betätigung aller Joystick Schalter,
		\item[7.]   Einsprechen eines Sprachbefehls, 
		\item[8.]	Überprüfen ob das ROS-Netzwerk offline ist
		\item[8.]	Nach der Quittierung setzt das Fahrzeug keinen Fahrbefehl um
	\end{itemize}
	
	\underline{Ergebnis:}\newline
	\newline
	\textbf{}%bestanden?
	& \textit{ROS}\newline
	\textit{CAN-sniffer}
	\\
	\hline
\end{longtable} 
\end{document}